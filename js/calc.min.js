var calc;calc=function(r){var t,e,n;for(34,t=0,r.reduce(function(r,t){return r+t.rate},0),e=r.filter(function(r){return r.rate>=5}).reduce(function(r,t){return r+t.rate},0),r.map(function(r){return r.rate2=r.rate<5?0:Math.round(r.rate/e*1e4)/1e4,r.seat=Math.floor(34*r.rate2)||0,r.remain=34*r.rate2-r.seat,t+=r.seat});t<34;)r.sort(function(r,t){return t.remain-r.remain}),r[0].seat++,r[0].remain=0,t++;return(n=r.filter(function(r){return r.seat})).sort(function(r,t){return t.seat-r.seat}),n.map(function(r){return console.log(r.name,r.seat)})};