<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><title>小黨與政黨票門檻分析 - 以假想藍、綠陣營為例</title><meta property="og:url" content="https://zbryikt.github.io/party-prop-calc/"><meta property="og:title" content="小黨與政黨票門檻分析 - 以假想藍、綠陣營為例"><meta property="og:description" content="人氣小黨有一定比例的支持度，如果我們將陣營中大黨的政黨票分一部份給他們，會如何影響不分區立委的結果呢？"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://zbryikt.github.io/party-prop-calc/assets/img/thumbnail.png"><meta property="og:image:type" content="image/jpeg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:type" content="website"><link rel="icon" href="favicon.ico"><link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="../assets/lib/ldui/ldui.min.css"><style>.parties {
  min-height: 130px;
}
.party {
  flex: 1 0 auto;
  transition: width 1s ease-in-out;
}
.party .bar {
  background: #ddd;
  width: 100%;
  height: 40px;
}
.party .ly {
  padding: 0.5em;
  display: flex;
  display: flex;
  flex-wrap: wrap;
  justify-content: left;
}
.party .seat {
  width: 1.4em;
  height: 1.4em;
  background: #ddd;
  border-radius: 50%;
  margin: 0 0.2em 0.2em 0;
  display: inline-block;
  background-image: url("../assets/img/user.svg");
  background-size: cover;
  background-position: center center;
  transition: width 1s ease-in-out, margin 1s ease-in-out;
}
.legend {
  display: flex;
  flex-wrap: wrap;
  margin-bottom: 0.5em;
}
.label {
  display: flex;
  align-items: center;
  margin-right: 1.25em;
  white-space: pre-wrap;
}
.label .dot {
  width: 1em;
  height: 1em;
  border-radius: 50%;
  margin-right: 0.25em;
}
.label > * {
  display: inline-block;
}
@media (max-width: 768px) {
  .parties {
    min-height: 100px;
  }
  .party .seat {
    width: 0.9em;
    height: 0.9em;
  }
}
</style></head><body class="p-4"><div class="w-1024 rwd mx-auto typeset heading-contrast"><div><h2 id="top">2020 政黨票開票結果</h2><div class="sticky py-4" style="background:#fff;top:0px"><div class="legend"><div class="label" ld-each="party"><div class="dot"></div><div class="name"></div></div></div><div class="d-flex parties"><div class="party" ld-each="bar"><div class="bar"></div><div class="ly"></div></div></div><div class="pb-3 pt-2 text-center"><p>泛<span ld="g">綠</span>共 <span class="font-weight-bold text-danger" ld="party-count">5</span> 個政黨達門檻，並獲得 <span class="font-weight-bold text-danger" ld="seat-count">18</span> 席不分區立委席次。<span ld="b">藍</span>一黨獲得 <span class="font-weight-bold text-danger" ld="kmt-seat">0</span> 席。</p></div></div></div></div><script type="text/javascript" src="../assets/lib/ldui/ldui.min.js"></script><script type="text/javascript" src="../js/calc.js"></script><script>// Generated by LiveScript 1.3.1
var parties, meta, sum, view;
parties = [
  {
    name: "藍一黨",
    seat: 11,
    rate: 20,
    side: 'blue'
  }, {
    name: "綠一黨",
    seat: 18,
    rate: 30,
    side: 'green'
  }, {
    name: "綠二黨",
    seat: 1,
    rate: 4,
    side: 'green'
  }, {
    name: "綠三黨",
    seat: 1,
    rate: 2,
    side: 'green'
  }, {
    name: "綠四黨",
    seat: 0,
    rate: 0.1,
    side: 'green'
  }, {
    name: "綠五黨",
    seat: 0,
    rate: 0.1,
    side: 'green'
  }
];
parties = [
  {
    "name": "合一行動聯盟",
    "count": 13993,
    "rate": 0.1284
  }, {
    "name": "中華統一促進黨",
    "count": 26736,
    "rate": 0.2454
  }, {
    "name": "親民黨",
    "count": 389510,
    "rate": 3.5748
  }, {
    "name": "安定力量",
    "count": 70241,
    "rate": 0.6447
  }, {
    "name": "台灣基進",
    "count": 351732,
    "rate": 3.2281
  }, {
    "name": "時代力量",
    "count": 828958,
    "rate": 7.6079
  }, {
    "name": "新黨",
    "count": 106073,
    "rate": 0.9735
  }, {
    "name": "喜樂島聯盟",
    "count": 22996,
    "rate": 0.2111
  }, {
    "name": "中國國民黨",
    "count": null,
    "rate": 33.1769
  }, {
    "name": "一邊一國行動黨",
    "count": 121308,
    "rate": 1.1133
  }, {
    "name": "勞動黨",
    "count": 15826,
    "rate": 0.1452
  }, {
    "name": "綠黨",
    "count": 249234,
    "rate": 2.2874
  }, {
    "name": "宗教聯盟",
    "count": 24598,
    "rate": 0.2258
  }, {
    "name": "民主進步黨",
    "count": null,
    "rate": 34.6755
  }, {
    "name": "台灣民眾黨",
    "count": null,
    "rate": 10.9255
  }, {
    "name": "台灣維新",
    "count": 9733,
    "rate": 0.0893
  }, {
    "name": "台澎黨",
    "count": 9776,
    "rate": 0.0897
  }, {
    "name": "國會政黨聯盟",
    "count": 30249,
    "rate": 0.2776
  }, {
    "name": "台灣團結聯盟",
    "count": 41386,
    "rate": 0.3798
  }
];
console.log(parties.map(function(it){
  return it.name;
}));
meta = {
  "中華統一促進黨": {
    side: 'red',
    color: '#f00'
  },
  "新黨": {
    side: 'red',
    color: '#f20'
  },
  "親民黨": {
    side: 'blue',
    color: '#09f'
  },
  "合一行動聯盟": {
    side: 'blue',
    color: '#0bf'
  },
  "中國國民黨": {
    side: 'blue',
    color: '#00f'
  },
  "台灣基進": {
    side: 'green',
    color: '#0f9'
  },
  "喜樂島聯盟": {
    side: 'green',
    color: '#0f5'
  },
  "一邊一國行動黨": {
    side: 'green',
    color: '#0f4'
  },
  "綠黨": {
    side: 'green',
    color: '#090'
  },
  "民主進步黨": {
    side: 'green',
    color: '#0f0'
  },
  "台灣維新": {
    side: 'green',
    color: '#0f2'
  },
  "台澎黨": {
    side: 'green',
    color: '#0fb'
  },
  "台灣團結聯盟": {
    side: 'green',
    color: '#942'
  },
  "安定力量": {
    side: 'other',
    color: '#f09'
  },
  "時代力量": {
    side: 'other',
    color: '#ff0'
  },
  "勞動黨": {
    side: 'other',
    color: '#f0f'
  },
  "宗教聯盟": {
    side: 'other',
    color: '#f0f'
  },
  "台灣民眾黨": {
    side: 'other',
    color: '#0ff'
  },
  "國會政黨聯盟": {
    side: 'other',
    color: '#999'
  }
};
sum = parties.reduce(function(a, b){
  return a + b.rate;
}, 0);
calc(parties);
console.log(parties);
parties.sort(function(a, b){
  return b.rate - a.rate;
});
view = new ldView({
  root: document.body,
  handler: {
    party: {
      list: function(){
        return parties;
      },
      handle: function(arg$){
        var node, data, name, dot, n;
        node = arg$.node, data = arg$.data;
        name = ld$.find(node, '.name', 0);
        dot = ld$.find(node, '.dot', 0);
        n = data.name;
        name.innerHTML = n + "<span class='text-sm'>(" + data.rate + "%)</span>";
        return dot.style.background = meta[data.name].color;
      }
    },
    bar: {
      list: function(){
        return parties;
      },
      handle: function(arg$){
        var node, data, name, bar, ly, party, seats, len;
        node = arg$.node, data = arg$.data;
        name = data.name;
        bar = ld$.find(node, '.bar', 0);
        ly = ld$.find(node, '.ly', 0);
        party = parties.filter(function(it){
          return it.name === name;
        })[0];
        node.style.width = 100 * (party.rate / sum) + "%";
        bar.style.background = meta[name].color;
        seats = ld$.find(ly, '.seat');
        len = seats.length;
        (function(){
          var i$, results$ = [];
          for (i$ = len - party.seat - 1; i$ >= 0; --i$) {
            results$.push(i$);
          }
          return results$;
        }()).map(function(d, i){
          var _;
          _ = function(n){
            n.classList.remove('ld-float-btt-in');
            n.classList.add('ld-float-btt-out');
            n.style.width = "0em";
            n.style.margin = "0em";
            return debounce(1000).then(function(){
              return n.parentNode.removeChild(n);
            });
          };
          return _(seats[d]);
        });
        (function(){
          var i$, to$, results$ = [];
          for (i$ = 0, to$ = party.seat - len; i$ < to$; ++i$) {
            results$.push(i$);
          }
          return results$;
        }()).map(function(d, i){
          var node;
          node = ld$.create({
            name: 'div',
            className: ['seat', 'ld', 'ld-float-btt-in'],
            style: {
              backgroundColor: meta[name].color,
              animationDelay: (i / 50 + Math.random() * 0.1) + "s"
            }
          });
          ly.appendChild(node);
          return "<div class='seat ld ld-float-btt-in'\nstyle='background-color:" + meta[name].color + ";animation-delay:" + (i / 50 + Math.random() * 0.1) + "s'>\n</div>";
        }).join('');
        return ld$.find(ly, '.seat').map(function(it){
          return it.style.backgroundColor = meta[name].color;
        });
      }
    }
  }
});</script></body></html>